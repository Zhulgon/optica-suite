model Patient {
  id             String           @id @default(uuid())
  firstName       String
  lastName        String
  documentNumber  String           @unique
  phone           String?
  email           String?
  occupation      String?
  birthDate       DateTime?
  createdAt       DateTime         @default(now())

  clinicalHistories ClinicalHistory[]
}

model ClinicalHistory {
  id         String   @id @default(uuid())

  patientId  String
  patient    Patient  @relation(fields: [patientId], references: [id], onDelete: Cascade)

  // Core (mínimo útil)
  date       DateTime @default(now())
  reason     String?  // motivo consulta
  notes      String?  // observaciones generales

  // Aquí va TODA tu historia real (flexible)
  data       Json     @default("{}")

  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt

  @@index([patientId])
}